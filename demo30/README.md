# 使用Spring Cloud Sleuth跟踪微服务
在微服务数量较多的系统架构中，一个完整的HTTP请求可能需要经过好几个微服务。如果想要跟踪一条完整的HTTP请求链路所产生的日志，我们需要到各个微服务上去查看日志并检索出我们需要的信息。随着业务发展，微服务的数量也会越来越多，这个过程也变得愈发困难。不过不用担心，Spring Cloud Sleuth为我们提供了分布式服务跟踪的解决方案。为了演示如何使用Spring Cloud Sleuth，我们需要构建一个小型的微服务系统。

# sleuth

[server-provider1,4e8fa28c43c78237,4e8fa28c43c78237,true]

1.server-provider1 微服务名称
2.4e8fa28c43c78237称为Trace ID，在一条完整的请求链路中，这个值是固定的。观察上面的日志即可证实这一点；
3.4e8fa28c43c78237称为Span ID，它表示一个基本的工作单元；
4.true 是否手机展示

# 集成Zipkin
然我们已经可以通过Trace ID来跟踪整体请求链路了，但是我们还是得去各个系统中捞取日志。在并发较高得时候，日志是海量的，这个时候我们可以借助Zipkin来代替我们完成日志获取与分析。Zipkin是Twitter的一个开源项目，主要包含了以下四个组件：

1.Collector：收集器，负责收集日志信息，以供后续的存储，分析与展示；、
2.Storage：存储模块，我们可以通过它将日志存储到MySQL中；
3.RESTful API：API组件，它主要用来提供外部访问接口。 比如给客户端展示跟踪信息，或是外接系统访问以实现监控等；
4.WEB UI：通过web页面，我们可以轻松的分析与跟踪请求日志。
